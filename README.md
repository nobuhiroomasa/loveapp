# デート＆おでかけ AI

シンプルなルールベースのレコメンドエンジンで、都市・ムード・天気などの条件からデート／おでかけプランを提案する Python アプリです。

## 特徴

- 東京や京都など主要都市の厳選プランを収録
- 予算帯、所要時間、ムードなど複数条件でスコアリング
- CLI から手軽に利用でき、JSON 形式での出力にも対応
- Flask ベースの Web UI で視覚的にプランを探索可能

## セットアップ

1. リポジトリを取得して移動します。

   ```bash
   git clone <このリポジトリの URL>
   cd loveapp
   ```

2. 仮想環境を用意して依存関係をインストールします。

   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Windows は .venv\Scripts\activate
   pip install -r requirements.txt
   ```

   > Flask を利用する Web UI の起動には `requirements.txt` に記載された依存関係のインストールが必要です。

## CLI の使い方

1. 仮想環境を有効化したターミナルで、都市名などを指定して実行します。

   ```bash
   python -m src.date_ai.cli 東京 --mood ロマンチック --weather 晴れ --limit 2
   ```

2. 条件に合致したプランがターミナル上に表示されます。JSON 形式で受け取りたい場合は `--format json` を指定してください。

   ```bash
   python -m src.date_ai.cli 京都 --activity アウトドア --format json
   ```

3. 利用可能なオプションは `python -m src.date_ai.cli --help` でも確認できます。

## Web アプリの使い方

1. 仮想環境を有効化したターミナルで Web サーバーを起動します。

   - コマンドを実行したターミナルは終了せず、そのままにしておきます。
   - 起動に成功すると `http://127.0.0.1:8000` で利用可能である旨のメッセージが表示されます。
   - ポート 8000 が利用できない場合は `--port` オプションで変更できます（例: `python -m src.date_ai.web --port 5000`）。
   - ローカルマシンからのみアクセスしたい場合は `--host 127.0.0.1` を付けてください。

2. 別途ブラウザを開き、表示された URL（既定では <http://127.0.0.1:8000>）へアクセスします。

   - フォームでエリアやムードを選択し、「おすすめを表示」を押すと候補がカード表示されます。
   - URL パラメータ（例: `?city=東京&limit=5`）から直接条件を共有することもできます。
   - 画面が表示されない場合は、ターミナルに出力される URL（例: `http://127.0.0.1:8000`）をブラウザのアドレスバーにコピー＆ペーストしてください。

   > ⚠️ `Flask が見つかりません` というエラーが表示された場合は、仮想環境を有効化したうえで
   > `pip install -r requirements.txt` を再実行してください。

## 拡張のヒント

- `src/date_ai/data.py` にプランを追加するだけで候補を増やせます
- `DateOutingAI` のスコアリングロジックを改良して、より高度な推薦を実現できます
- Web フロントエンドの UI や API を拡張して、よりリッチな体験を提供できます
